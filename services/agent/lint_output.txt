E712 Avoid equality comparisons to `True`; use `Session.active:` for truth checks
  --> src/core/core/service.py:96:57
   |
94 |         # Get active session
95 |         session_stmt = select(Session).where(
96 |             Session.conversation_id == conversation_id, Session.active == True
   |                                                         ^^^^^^^^^^^^^^^^^^^^^^
97 |         )
98 |         session_result = await session.execute(session_stmt)
   |
help: Replace with `Session.active`

E501 Line too long (107 > 100)
   --> src/core/core/service.py:152:101
    |
150 |             # but we might want to checkpoint.
151 |             # For now rely on flush for IDs, commit happens at app closure or explicitly if needed.
152 |             # But wait, session is passed from Depends(get_db). FastAPI usually handles commit if no error?
    |                                                                                                     ^^^^^^^
153 |             # Or we must commit. AsyncSession dependency usually yields session.
154 |             # I will flush to be safe for visibility in same transaction.
    |

E501 Line too long (115 > 100)
   --> src/core/core/service.py:215:101
    |
214 |             # Check for Command (Skill) in metadata or Prompt?
215 |             # Implementation Plan says: "Integrate CommandLoader... Check if a requested tool matches a .md skill."
    |                                                                                                     ^^^^^^^^^^^^^^^
216 |             # The Planner decides tools.
217 |             # If the planner outputs a tool that is a SKILL, the Executor needs to know.
    |

E501 Line too long (103 > 100)
   --> src/core/core/service.py:278:101
    |
276 |                 # Executor Run
277 |                 # Does executor support Skills?
278 |                 # StepExecutor needs to support "command" action or "tool" action that maps to a skill.
    |                                                                                                     ^^^
279 |                 # If plan_step.action == "tool", check if tool is in registry.
280 |                 # If not in registry, check CommandLoader?
    |

E501 Line too long (118 > 100)
   --> src/core/core/service.py:296:101
    |
294 | …     # Current StepExecutor agent imports tool registry.
295 | …     # I can inject a "SkillAwareToolRegistry" or just update StepExecutor.
296 | …     # I'll stick to standard tools for now, and handle explicit skill integration in next chunk if needed.
    |                                                                                           ^^^^^^^^^^^^^^^^^^
297 | …     # Update: Implementation Plan said "Integrate CommandLoader... AgentService will merge ToolRegistry and CommandLoader".
    |

E501 Line too long (135 > 100)
   --> src/core/core/service.py:297:101
    |
295 | …stry" or just update StepExecutor.
296 | …ow, and handle explicit skill integration in next chunk if needed.
297 | …Integrate CommandLoader... AgentService will merge ToolRegistry and CommandLoader".
    |                                                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
298 | …
299 | …await executor.run(
    |

F401 `typing.Optional` imported but unused
  --> src/modules/fetcher/__init__.py:10:25
   |
 8 | from html.parser import HTMLParser
 9 | from pathlib import Path
10 | from typing import Any, Optional
   |                         ^^^^^^^^
11 |
12 | import httpx
   |
help: Remove unused import: `typing.Optional`

F401 `typing.Optional` imported but unused
 --> src/modules/rag/__init__.py:3:25
  |
1 | import logging
2 | import os
3 | from typing import Any, Optional
  |                         ^^^^^^^^
4 |
5 | import numpy as np
  |
help: Remove unused import: `typing.Optional`

F401 `qdrant_client.http.models` imported but unused
 --> src/modules/rag/__init__.py:7:32
  |
5 | import numpy as np
6 | from qdrant_client import AsyncQdrantClient
7 | from qdrant_client.http import models
  |                                ^^^^^^
8 |
9 | from modules.embedder import get_embedder
  |
help: Remove unused import: `qdrant_client.http.models`

Found 9 errors.
No fixes available (1 hidden fix can be enabled with the `--unsafe-fixes` option).
