}
{
    "name": "POST /v1/chat/completions http send",
    "context": {
        "trace_id": "0x8f2723ddacc892c51427f93652bea05d",
        "span_id": "0xa46ca2d6fb97e98f",
        "trace_state": "[]"
    },
    "kind": "SpanKind.INTERNAL",
    "parent_id": "0xe73daddf587bd78c",
    "start_time": "2025-12-29T13:58:44.148694Z",
    "end_time": "2025-12-29T13:58:44.148703Z",
    "status": {
        "status_code": "UNSET"
    },
    "attributes": {
        "asgi.event.type": "http.response.body"
    },
    "events": [],
    "links": [],
    "resource": {
        "attributes": {
            "telemetry.sdk.language": "python",
            "telemetry.sdk.name": "opentelemetry",
            "telemetry.sdk.version": "1.39.1",
            "service.name": "AI Agent Server"
        },
        "schema_url": ""
    }
}
{
    "name": "POST /v1/chat/completions http send",
    "context": {
        "trace_id": "0x8f2723ddacc892c51427f93652bea05d",
        "span_id": "0x101264117b61c508",
        "trace_state": "[]"
    },
    "kind": "SpanKind.INTERNAL",
    "parent_id": "0xe73daddf587bd78c",
    "start_time": "2025-12-29T13:58:44.148867Z",
    "end_time": "2025-12-29T13:58:44.148875Z",
    "status": {
        "status_code": "UNSET"
    },
    "attributes": {
        "asgi.event.type": "http.response.body"
    },
    "events": [],
    "links": [],
    "resource": {
        "attributes": {
            "telemetry.sdk.language": "python",
            "telemetry.sdk.name": "opentelemetry",
            "telemetry.sdk.version": "1.39.1",
            "service.name": "AI Agent Server"
        },
        "schema_url": ""
    }
}
ERROR:opentelemetry.context:Failed to detach context
Traceback (most recent call last):
  File "/usr/local/lib/python3.11/site-packages/opentelemetry/trace/__init__.py", line 589, in use_span
    yield span
  File "/usr/local/lib/python3.11/site-packages/opentelemetry/sdk/trace/__init__.py", line 1105, in start_as_current_span
    yield span
  File "/app/src/core/observability/tracing.py", line 243, in start_span
    yield span
  File "/app/src/core/agents/executor.py", line 302, in _run_tool_gen
    yield {"type": "thinking", "content": chunk.get("content")}
GeneratorExit

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.11/site-packages/opentelemetry/context/__init__.py", line 155, in detach
    _RUNTIME_CONTEXT.detach(token)
  File "/usr/local/lib/python3.11/site-packages/opentelemetry/context/contextvars_context.py", line 53, in detach
    self._current_context.reset(token)
ValueError: <Token var=<ContextVar name='current_context' default={} at 0x7fbb2426fb00> at 0x7fba637cb240> was created in a different Context
{
    "name": "tool.call.consult_expert",
    "context": {
        "trace_id": "0x8f2723ddacc892c51427f93652bea05d",
        "span_id": "0xf3502b02d331e8d9",
        "trace_state": "[]"
    },
    "kind": "SpanKind.INTERNAL",
    "parent_id": "0xb6bb16cd01754955",
    "start_time": "2025-12-29T13:58:44.145907Z",
    "end_time": "2025-12-29T13:58:44.149812Z",
    "status": {
        "status_code": "UNSET"
    },
    "attributes": {},
    "events": [],
    "links": [],
    "resource": {
        "attributes": {
            "telemetry.sdk.language": "python",
            "telemetry.sdk.name": "opentelemetry",
            "telemetry.sdk.version": "1.39.1",
            "service.name": "AI Agent Server"
        },
        "schema_url": ""
    }
}
CRITICAL:core.agents.executor:CRITICAL FAILURE in _run_tool_gen: 
Traceback (most recent call last):
  File "/app/src/core/agents/executor.py", line 302, in _run_tool_gen
    yield {"type": "thinking", "content": chunk.get("content")}
GeneratorExit
ERROR:asyncio:Task exception was never retrieved
future: <Task finished name='Task-146' coro=<<async_generator_athrow without __name__>()> exception=RuntimeError('async generator ignored GeneratorExit')>
RuntimeError: async generator ignored GeneratorExit
{
    "name": "POST /v1/chat/completions http send",
    "context": {
        "trace_id": "0x8f2723ddacc892c51427f93652bea05d",
        "span_id": "0x42ff5ed98017d130",
        "trace_state": "[]"
    },
    "kind": "SpanKind.INTERNAL",
    "parent_id": "0xe73daddf587bd78c",
    "start_time": "2025-12-29T13:58:44.150282Z",
    "end_time": "2025-12-29T13:58:44.150292Z",
    "status": {
        "status_code": "UNSET"
    },
    "attributes": {
        "asgi.event.type": "http.response.body"
    },
    "events": [],
    "links": [],
    "resource": {
        "attributes": {
            "telemetry.sdk.language": "python",
            "telemetry.sdk.name": "opentelemetry",
            "telemetry.sdk.version": "1.39.1",
            "service.name": "AI Agent Server"
        },
        "schema_url": ""
    }
}
{
    "name": "Agent Chat: POST /v1/chat/completions",
    "context": {
        "trace_id": "0x8f2723ddacc892c51427f93652bea05d",
        "span_id": "0xe73daddf587bd78c",
        "trace_state": "[]"
    },
    "kind": "SpanKind.SERVER",
    "parent_id": null,
    "start_time": "2025-12-29T13:58:28.888064Z",
    "end_time": "2025-12-29T13:58:44.150412Z",
    "status": {
        "status_code": "UNSET"
    },
    "attributes": {
        "http.scheme": "http",
        "http.host": "172.20.0.7:8000",
        "net.host.port": 8000,
        "http.flavor": "1.1",
        "http.target": "/v1/chat/completions",
        "http.url": "http://agent:8000/v1/chat/completions",
        "http.method": "POST",
        "http.server_name": "agent:8000",
        "http.user_agent": "Python/3.11 aiohttp/3.13.2",
        "net.peer.ip": "172.20.0.8",
        "net.peer.port": 35376,
        "http.route": "/v1/chat/completions",
        "http.status_code": 200,
        "gen_ai.performance.ttft_ms": 1417.542977957055,
        "gen_ai.response.model": "deepseek/deepseek-v3.2",
        "gen_ai.performance.latency_ms": 1420.0486119370908
    },
    "events": [
        {
            "name": "gen_ai.first_token",
            "timestamp": "2025-12-29T13:58:30.343331Z",
            "attributes": {
                "ttft_ms": 1417.542977957055
            }
        }
    ],
    "links": [],
    "resource": {
        "attributes": {
            "telemetry.sdk.language": "python",
            "telemetry.sdk.name": "opentelemetry",
            "telemetry.sdk.version": "1.39.1",
            "service.name": "AI Agent Server"
        },
        "schema_url": ""
    }
}
{
    "name": "POST /v1/chat/completions http receive",
    "context": {
        "trace_id": "0x8f2723ddacc892c51427f93652bea05d",
        "span_id": "0x143d2c2f63fcfc1b",
        "trace_state": "[]"
    },
    "kind": "SpanKind.INTERNAL",
    "parent_id": "0xe73daddf587bd78c",
    "start_time": "2025-12-29T13:58:28.924928Z",
    "end_time": "2025-12-29T13:58:44.150772Z",
    "status": {
        "status_code": "UNSET"
    },
    "attributes": {},
    "events": [],
    "links": [],
    "resource": {
        "attributes": {
            "telemetry.sdk.language": "python",
            "telemetry.sdk.name": "opentelemetry",
            "telemetry.sdk.version": "1.39.1",
            "service.name": "AI Agent Server"
        },
        "schema_url": ""
    }
}
ERROR:opentelemetry.context:Failed to detach context
Traceback (most recent call last):
  File "/usr/local/lib/python3.11/site-packages/opentelemetry/trace/__init__.py", line 589, in use_span
    yield span
  File "/usr/local/lib/python3.11/site-packages/opentelemetry/sdk/trace/__init__.py", line 1105, in start_as_current_span
    yield span
  File "/app/src/core/observability/tracing.py", line 243, in start_span
    yield span
  File "/app/src/core/tools/skill_delegate.py", line 108, in run
    yield {"type": "thinking", "content": f"Worker ({skill}) Turn {i+1}..."}
GeneratorExit

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.11/site-packages/opentelemetry/context/__init__.py", line 155, in detach
    _RUNTIME_CONTEXT.detach(token)
  File "/usr/local/lib/python3.11/site-packages/opentelemetry/context/contextvars_context.py", line 53, in detach
    self._current_context.reset(token)
ValueError: <Token var=<ContextVar name='current_context' default={} at 0x7fbb2426fb00> at 0x7fba637cb7c0> was created in a different Context
{
    "name": "skill.execution.researcher",
    "context": {
        "trace_id": "0x8f2723ddacc892c51427f93652bea05d",
        "span_id": "0xb7b55ca889800c94",
        "trace_state": "[]"
    },
    "kind": "SpanKind.INTERNAL",
    "parent_id": "0xf3502b02d331e8d9",
    "start_time": "2025-12-29T13:58:44.146787Z",
    "end_time": "2025-12-29T13:58:44.151232Z",
    "status": {
        "status_code": "UNSET"
    },
    "attributes": {
        "goal": "Research Greece's financial developments and current debt situation as of 2025. Provide a short summary."
    },
    "events": [],
    "links": [],
    "resource": {
        "attributes": {
            "telemetry.sdk.language": "python",
            "telemetry.sdk.name": "opentelemetry",
            "telemetry.sdk.version": "1.39.1",
            "service.name": "AI Agent Server"
        },
        "schema_url": ""
    }
}
INFO:     127.0.0.1:49406 - "GET /healthz HTTP/1.1" 200 OK
INFO:orchestrator.dispatcher:Dispatcher classified intent as: TASK
INFO:core.core.service:Processing prompt for conversation de010919-5e2d-4380-94f7-ff19d332c526
INFO:core.core.service:Handling request with routing decision: RoutingDecision.AGENTIC
INFO:core.agents.planner:PLANNER DEBUG: Available tools passed to LLM:
- Tool: consult_expert
  Desc: Delegates a task to a specialized worker persona. `skill` MUST be an existing markdown filename (e.g., 'researcher', 'requirements_engineer') available in the system. Do not pass atomic tool names here.
  Args: (Inspect usage or standard dict)
{
    "name": "POST /v1/chat/completions http send",
    "context": {
        "trace_id": "0xcc4be48cdc526d3660b3621fdd90ef89",
        "span_id": "0x9756e726d638315b",
        "trace_state": "[]"
    },
    "kind": "SpanKind.INTERNAL",
    "parent_id": "0x172eb5fbd2f8dce0",
    "start_time": "2025-12-29T13:58:49.852718Z",
    "end_time": "2025-12-29T13:58:49.852736Z",
    "status": {
        "status_code": "UNSET"
    },
    "attributes": {
        "asgi.event.type": "http.response.body"
    },
    "events": [],
    "links": [],
    "resource": {
        "attributes": {
            "telemetry.sdk.language": "python",
            "telemetry.sdk.name": "opentelemetry",
            "telemetry.sdk.version": "1.39.1",
            "service.name": "AI Agent Server"
        },
        "schema_url": ""
    }
}
INFO:     127.0.0.1:44366 - "GET /healthz HTTP/1.1" 200 OK
INFO:event:Event: PlanEvent
{
    "name": "planner.generate",
    "context": {
        "trace_id": "0xcc4be48cdc526d3660b3621fdd90ef89",
        "span_id": "0xaf82cd965009177c",
        "trace_state": "[]"
    },
    "kind": "SpanKind.INTERNAL",
    "parent_id": "0x375e38567d70b589",
    "start_time": "2025-12-29T13:58:49.852168Z",
    "end_time": "2025-12-29T13:59:02.025040Z",
    "status": {
        "status_code": "UNSET"
    },
    "attributes": {
        "step": "plan",
        "model": "planner",
        "gen_ai.performance.ttft_ms": 1192.3841810785234,
        "gen_ai.response.model": "deepseek/deepseek-v3.2",
        "gen_ai.performance.latency_ms": 11894.732002983801,
        "llm.output.size": 1244,
        "llm.model": "planner",
        "plan.step_count": 1,
        "span.end_time": "2025-12-29T13:59:02.025022"
    },
    "events": [
        {
            "name": "gen_ai.first_token",
            "timestamp": "2025-12-29T13:58:51.044609Z",
            "attributes": {
                "ttft_ms": 1192.3841810785234
            }
        }
    ],
    "links": [],
    "resource": {
        "attributes": {
            "telemetry.sdk.language": "python",
            "telemetry.sdk.name": "opentelemetry",
            "telemetry.sdk.version": "1.39.1",
            "service.name": "AI Agent Server"
        },
        "schema_url": ""
    }
}
{
    "name": "supervisor.plan_review",
    "context": {
        "trace_id": "0xcc4be48cdc526d3660b3621fdd90ef89",
        "span_id": "0x7cc98979c85a26ad",
        "trace_state": "[]"
    },
    "kind": "SpanKind.INTERNAL",
    "parent_id": "0x375e38567d70b589",
    "start_time": "2025-12-29T13:59:02.025377Z",
INFO:event:Event: SupervisorDecision
    "end_time": "2025-12-29T13:59:02.025456Z",
    "status": {
        "status_code": "UNSET"
    },
    "attributes": {
        "plan.steps": 1,
        "span.end_time": "2025-12-29T13:59:02.025450"
    },
    "events": [],
    "links": [],
    "resource": {
        "attributes": {
            "telemetry.sdk.language": "python",
            "telemetry.sdk.name": "opentelemetry",
            "telemetry.sdk.version": "1.39.1",
            "service.name": "AI Agent Server"
        },
        "schema_url": ""
    }
}
{
    "name": "POST /v1/chat/completions http send",
    "context": {
        "trace_id": "0xcc4be48cdc526d3660b3621fdd90ef89",
        "span_id": "0x03e1c09e437532ea",
        "trace_state": "[]"
    },
    "kind": "SpanKind.INTERNAL",
    "parent_id": "0x172eb5fbd2f8dce0",
    "start_time": "2025-12-29T13:59:02.025725Z",
    "end_time": "2025-12-29T13:59:02.025734Z",
    "status": {
        "status_code": "UNSET"
    },
    "attributes": {
        "asgi.event.type": "http.response.body"
    },
    "events": [],
    "links": [],
    "resource": {
        "attributes": {
            "telemetry.sdk.language": "python",
            "telemetry.sdk.name": "opentelemetry",
            "telemetry.sdk.version": "1.39.1",
            "service.name": "AI Agent Server"
        },
        "schema_url": ""
    }
}
{
    "name": "POST /v1/chat/completions http send",
    "context": {
        "trace_id": "0xcc4be48cdc526d3660b3621fdd90ef89",
        "span_id": "0xfdad777758d0662e",
        "trace_state": "[]"
    },
    "kind": "SpanKind.INTERNAL",
    "parent_id": "0x172eb5fbd2f8dce0",
    "start_time": "2025-12-29T13:59:02.026049Z",
    "end_time": "2025-12-29T13:59:02.026058Z",
    "status": {
        "status_code": "UNSET"
    },
    "attributes": {
        "asgi.event.type": "http.response.body"
    },
    "events": [],
    "links": [],
    "resource": {
        "attributes": {
            "telemetry.sdk.language": "python",
            "telemetry.sdk.name": "opentelemetry",
            "telemetry.sdk.version": "1.39.1",
            "service.name": "AI Agent Server"
        },
        "schema_url": ""
    }
}
{
    "name": "POST /v1/chat/completions http send",
    "context": {
        "trace_id": "0xcc4be48cdc526d3660b3621fdd90ef89",
        "span_id": "0x21cc2deab96545b2",
        "trace_state": "[]"
    },
    "kind": "SpanKind.INTERNAL",
    "parent_id": "0x172eb5fbd2f8dce0",
    "start_time": "2025-12-29T13:59:02.026712Z",
    "end_time": "2025-12-29T13:59:02.026721Z",
    "status": {
        "status_code": "UNSET"
    },
    "attributes": {
        "asgi.event.type": "http.response.body"
    },
    "events": [],
    "links": [],
    "resource": {
        "attributes": {
            "telemetry.sdk.language": "python",
            "telemetry.sdk.name": "opentelemetry",
            "telemetry.sdk.version": "1.39.1",
            "service.name": "AI Agent Server"
        },
        "schema_url": ""
    }
}
{
    "name": "POST /v1/chat/completions http send",
    "context": {
        "trace_id": "0xcc4be48cdc526d3660b3621fdd90ef89",
        "span_id": "0xab2877930cd4e162",
        "trace_state": "[]"
    },
    "kind": "SpanKind.INTERNAL",
    "parent_id": "0x172eb5fbd2f8dce0",
    "start_time": "2025-12-29T13:59:03.266706Z",
    "end_time": "2025-12-29T13:59:03.266726Z",
    "status": {
        "status_code": "UNSET"
    },
    "attributes": {
        "asgi.event.type": "http.response.body"
    },
    "events": [],
    "links": [],
    "resource": {
        "attributes": {
            "telemetry.sdk.language": "python",
            "telemetry.sdk.name": "opentelemetry",
            "telemetry.sdk.version": "1.39.1",
            "service.name": "AI Agent Server"
        },
        "schema_url": ""
    }
}
{
    "name": "POST /v1/chat/completions http send",
    "context": {
        "trace_id": "0xcc4be48cdc526d3660b3621fdd90ef89",
        "span_id": "0x29c2f5535b6d3d1a",
        "trace_state": "[]"
    },
    "kind": "SpanKind.INTERNAL",
    "parent_id": "0x172eb5fbd2f8dce0",
    "start_time": "2025-12-29T13:59:03.267308Z",
    "end_time": "2025-12-29T13:59:03.267318Z",
    "status": {
        "status_code": "UNSET"
    },
    "attributes": {
        "asgi.event.type": "http.response.body"
    },
    "events": [],
    "links": [],
    "resource": {
        "attributes": {
            "telemetry.sdk.language": "python",
            "telemetry.sdk.name": "opentelemetry",
            "telemetry.sdk.version": "1.39.1",
            "service.name": "AI Agent Server"
        },
        "schema_url": ""
    }
}
{
    "name": "POST /v1/chat/completions http send",
    "context": {
        "trace_id": "0xcc4be48cdc526d3660b3621fdd90ef89",
        "span_id": "0x2196fa9fe3cc409e",
        "trace_state": "[]"
    },
    "kind": "SpanKind.INTERNAL",
    "parent_id": "0x172eb5fbd2f8dce0",
    "start_time": "2025-12-29T13:59:03.267566Z",
    "end_time": "2025-12-29T13:59:03.267574Z",
    "status": {
        "status_code": "UNSET"
    },
    "attributes": {
        "asgi.event.type": "http.response.body"
    },
    "events": [],
    "links": [],
    "resource": {
        "attributes": {
            "telemetry.sdk.language": "python",
            "telemetry.sdk.name": "opentelemetry",
            "telemetry.sdk.version": "1.39.1",
            "service.name": "AI Agent Server"
        },
        "schema_url": ""
    }
}
{
    "name": "POST /v1/chat/completions http send",
    "context": {
        "trace_id": "0xcc4be48cdc526d3660b3621fdd90ef89",
        "span_id": "0x9ca88707c22366d9",
        "trace_state": "[]"
    },
    "kind": "SpanKind.INTERNAL",
    "parent_id": "0x172eb5fbd2f8dce0",
    "start_time": "2025-12-29T13:59:03.820829Z",
    "end_time": "2025-12-29T13:59:03.820858Z",
    "status": {
        "status_code": "UNSET"
    },
    "attributes": {
        "asgi.event.type": "http.response.body"
    },
    "events": [],
    "links": [],
    "resource": {
        "attributes": {
            "telemetry.sdk.language": "python",
            "telemetry.sdk.name": "opentelemetry",
            "telemetry.sdk.version": "1.39.1",
            "service.name": "AI Agent Server"
        },
        "schema_url": ""
    }
}
{
    "name": "POST /v1/chat/completions http send",
    "context": {
        "trace_id": "0xcc4be48cdc526d3660b3621fdd90ef89",
        "span_id": "0x697d9415f59de568",
        "trace_state": "[]"
    },
    "kind": "SpanKind.INTERNAL",
    "parent_id": "0x172eb5fbd2f8dce0",
    "start_time": "2025-12-29T13:59:03.821641Z",
    "end_time": "2025-12-29T13:59:03.821656Z",
    "status": {
        "status_code": "UNSET"
    },
    "attributes": {
        "asgi.event.type": "http.response.body"
    },
    "events": [],
    "links": [],
    "resource": {
        "attributes": {
            "telemetry.sdk.language": "python",
            "telemetry.sdk.name": "opentelemetry",
            "telemetry.sdk.version": "1.39.1",
            "service.name": "AI Agent Server"
        },
        "schema_url": ""
    }
}
{
    "name": "POST /v1/chat/completions http send",
    "context": {
        "trace_id": "0xcc4be48cdc526d3660b3621fdd90ef89",
        "span_id": "0x324a469d877ed2ac",
        "trace_state": "[]"
    },
    "kind": "SpanKind.INTERNAL",
    "parent_id": "0x172eb5fbd2f8dce0",
    "start_time": "2025-12-29T13:59:03.822817Z",
    "end_time": "2025-12-29T13:59:03.822831Z",
    "status": {
        "status_code": "UNSET"
    },
    "attributes": {
        "asgi.event.type": "http.response.body"
    },
    "events": [],
    "links": [],
    "resource": {
        "attributes": {
            "telemetry.sdk.language": "python",
            "telemetry.sdk.name": "opentelemetry",
            "telemetry.sdk.version": "1.39.1",
            "service.name": "AI Agent Server"
        },
        "schema_url": ""
    }
}
{
    "name": "POST /v1/chat/completions http send",
    "context": {
        "trace_id": "0xcc4be48cdc526d3660b3621fdd90ef89",
        "span_id": "0x371438c1de544ce7",
        "trace_state": "[]"
    },
    "kind": "SpanKind.INTERNAL",
    "parent_id": "0x172eb5fbd2f8dce0",
    "start_time": "2025-12-29T13:59:03.823205Z",
    "end_time": "2025-12-29T13:59:03.823215Z",
    "status": {
        "status_code": "UNSET"
    },
    "attributes": {
        "asgi.event.type": "http.response.body"
    },
    "events": [],
    "links": [],
    "resource": {
        "attributes": {
            "telemetry.sdk.language": "python",
            "telemetry.sdk.name": "opentelemetry",
            "telemetry.sdk.version": "1.39.1",
            "service.name": "AI Agent Server"
        },
        "schema_url": ""
    }
}
{
    "name": "POST /v1/chat/completions http send",
    "context": {
        "trace_id": "0xcc4be48cdc526d3660b3621fdd90ef89",
        "span_id": "0x2254f2de10af2e7b",
        "trace_state": "[]"
    },
    "kind": "SpanKind.INTERNAL",
    "parent_id": "0x172eb5fbd2f8dce0",
    "start_time": "2025-12-29T13:59:03.824052Z",
    "end_time": "2025-12-29T13:59:03.824061Z",
    "status": {
        "status_code": "UNSET"
    },
    "attributes": {
        "asgi.event.type": "http.response.body"
    },
    "events": [],
    "links": [],
    "resource": {
        "attributes": {
            "telemetry.sdk.language": "python",
            "telemetry.sdk.name": "opentelemetry",
            "telemetry.sdk.version": "1.39.1",
            "service.name": "AI Agent Server"
        },
        "schema_url": ""
    }
}
{
    "name": "llm.call.assistant",
    "context": {
        "trace_id": "0xcc4be48cdc526d3660b3621fdd90ef89",
        "span_id": "0x4283f9d03378364e",
        "trace_state": "[]"
    },
    "kind": "SpanKind.INTERNAL",
    "parent_id": "0xf86f18fced90d313",
    "start_time": "2025-12-29T13:59:02.026321Z",
    "end_time": "2025-12-29T13:59:03.826998Z",
    "status": {
        "status_code": "UNSET"
    },
    "attributes": {
        "model": "agentchat",
        "step": "step-1",
        "gen_ai.performance.ttft_ms": 1240.1536799734458,
        "gen_ai.response.model": "deepseek/deepseek-v3.2",
        "gen_ai.performance.latency_ms": 1800.3829889930785,
        "llm.output.size": 44,
        "span.end_time": "2025-12-29T13:59:03.826990"
    },
    "events": [
        {
            "name": "gen_ai.first_token",
            "timestamp": "2025-12-29T13:59:03.266525Z",
            "attributes": {
                "ttft_ms": 1240.1536799734458
            }
        }
    ],
    "links": [],
    "resource": {
        "attributes": {
            "telemetry.sdk.language": "python",
            "telemetry.sdk.name": "opentelemetry",
            "telemetry.sdk.version": "1.39.1",
            "service.name": "AI Agent Server"
        },
        "schema_url": ""
    }
}
INFO:event:Event: StepEvent
{
    "name": "executor.step_run.step-1",
    "context": {
        "trace_id": "0xcc4be48cdc526d3660b3621fdd90ef89",
        "span_id": "0xf86f18fced90d313",
        "trace_state": "[]"
    },
    "kind": "SpanKind.INTERNAL",
    "parent_id": "0x375e38567d70b589",
    "start_time": "2025-12-29T13:59:02.026270Z",
    "end_time": "2025-12-29T13:59:03.827368Z",
    "status": {
        "status_code": "UNSET"
    },
    "attributes": {
        "action": "completion",
        "executor": "litellm",
        "step": "step-1",
        "step.args": "{'prompt': 'Based on the following chat history, generate a concise 3-5 word title with an emoji that summarizes the main theme. The user requested research on Greece\\'s financial developments and debt situation, and there was an error in the research attempt. The title should be in English. Output ONLY the JSON object with the title.\\n\\nChat History:\\nUSER: Research the financial developments of Greace and give me a short summary on the debt situation\\nASSISTANT: > \ud83e\udde0 *Generating plan...*\\n> \ud83e\udde0 *Plan approved. Starting execution...*\\n> \ud83e\udde0 *Plan: Delegate research on Greece\\'s financial developments and debt situation to the researcher expert, then provide a summary*\\n> \ud83d\udc63 **Step:** *Research Greece\\'s financial developments and debt situation*\\n> \ud83e\udde0 **Using Skill:** `researcher`\\n> \u274c **Error:** \\'NoneType\\' object has no attribute \\'copy\\'\\n\\nOutput format: { \"title\": \"your concise title here\" }'}",
        "latency_ms": 1800.923726055771,
        "status": "ok",
        "step.result": "{'completion': '{ \"title\": \"\ud83c\uddec\ud83c\uddf7 Greece Debt Research Error\" }', 'model': 'agentchat'}",
        "span.end_time": "2025-12-29T13:59:03.827360"
    },
    "events": [],
    "links": [],
    "resource": {
        "attributes": {
            "telemetry.sdk.language": "python",
            "telemetry.sdk.name": "opentelemetry",
            "telemetry.sdk.version": "1.39.1",
            "service.name": "AI Agent Server"
        },
        "schema_url": ""
    }
}
INFO:event:Event: SupervisorDecision
{
    "name": "supervisor.step_review",
    "context": {
        "trace_id": "0xcc4be48cdc526d3660b3621fdd90ef89",
        "span_id": "0x01d81c1182e68f5d",
        "trace_state": "[]"
    },
    "kind": "SpanKind.INTERNAL",
    "parent_id": "0x375e38567d70b589",
    "start_time": "2025-12-29T13:59:03.827538Z",
    "end_time": "2025-12-29T13:59:03.827614Z",
    "status": {
        "status_code": "UNSET"
    },
    "attributes": {
        "step": "step-1",
        "status": "ok",
        "decision": "ok",
        "span.end_time": "2025-12-29T13:59:03.827607"
    },
    "events": [],
    "links": [],
    "resource": {
        "attributes": {
            "telemetry.sdk.language": "python",
            "telemetry.sdk.name": "opentelemetry",
            "telemetry.sdk.version": "1.39.1",
            "service.name": "AI Agent Server"
        },
        "schema_url": ""
    }
}
Batches:   0%|          | 0/1 [00:00<?, ?it/s]Batches: 100%|██████████| 1/1 [00:00<00:00, 41.49it/s]
INFO:event:Event: SupervisorDecision
{
    "name": "agent.request",
    "context": {
        "trace_id": "0xcc4be48cdc526d3660b3621fdd90ef89",
        "span_id": "0x375e38567d70b589",
        "trace_state": "[]"
    },
    "kind": "SpanKind.INTERNAL",
    "parent_id": "0x172eb5fbd2f8dce0",
    "start_time": "2025-12-29T13:58:49.850549Z",
    "end_time": "2025-12-29T13:59:03.869672Z",
    "status": {
        "status_code": "UNSET"
    },
    "attributes": {
        "conversation_id": "de010919-5e2d-4380-94f7-ff19d332c526",
        "input_size": 1725,
        "routing_decision": "AGENTIC",
        "span.end_time": "2025-12-29T13:59:03.869646"
    },
    "events": [],
    "links": [],
    "resource": {
        "attributes": {
            "telemetry.sdk.language": "python",
            "telemetry.sdk.name": "opentelemetry",
            "telemetry.sdk.version": "1.39.1",
            "service.name": "AI Agent Server"
        },
        "schema_url": ""
    }
}
{
    "name": "POST /v1/chat/completions http send",
    "context": {
        "trace_id": "0xcc4be48cdc526d3660b3621fdd90ef89",
        "span_id": "0x56fad450b6e2fa40",
        "trace_state": "[]"
    },
    "kind": "SpanKind.INTERNAL",
    "parent_id": "0x172eb5fbd2f8dce0",
    "start_time": "2025-12-29T13:59:03.870345Z",
    "end_time": "2025-12-29T13:59:03.870362Z",
    "status": {
        "status_code": "UNSET"
    },
    "attributes": {
        "asgi.event.type": "http.response.body"
    },
    "events": [],
    "links": [],
    "resource": {
        "attributes": {
            "telemetry.sdk.language": "python",
            "telemetry.sdk.name": "opentelemetry",
            "telemetry.sdk.version": "1.39.1",
            "service.name": "AI Agent Server"
        },
        "schema_url": ""
    }
}
{
    "name": "POST /v1/chat/completions http send",
    "context": {
        "trace_id": "0xcc4be48cdc526d3660b3621fdd90ef89",
        "span_id": "0xeee1b2569d6284c3",
        "trace_state": "[]"
    },
    "kind": "SpanKind.INTERNAL",
    "parent_id": "0x172eb5fbd2f8dce0",
    "start_time": "2025-12-29T13:59:03.870654Z",
    "end_time": "2025-12-29T13:59:03.870665Z",
    "status": {
        "status_code": "UNSET"
    },
    "attributes": {
        "asgi.event.type": "http.response.body"
    },
    "events": [],
    "links": [],
    "resource": {
        "attributes": {
            "telemetry.sdk.language": "python",
            "telemetry.sdk.name": "opentelemetry",
            "telemetry.sdk.version": "1.39.1",
            "service.name": "AI Agent Server"
        },
        "schema_url": ""
    }
}
{
    "name": "Agent Chat: POST /v1/chat/completions",
    "context": {
        "trace_id": "0xcc4be48cdc526d3660b3621fdd90ef89",
        "span_id": "0x172eb5fbd2f8dce0",
        "trace_state": "[]"
    },
    "kind": "SpanKind.SERVER",
    "parent_id": null,
    "start_time": "2025-12-29T13:58:28.929086Z",
    "end_time": "2025-12-29T13:59:03.870779Z",
    "status": {
        "status_code": "UNSET"
    },
    "attributes": {
        "http.scheme": "http",
        "http.host": "172.20.0.7:8000",
        "net.host.port": 8000,
        "http.flavor": "1.1",
        "http.target": "/v1/chat/completions",
        "http.url": "http://agent:8000/v1/chat/completions",
        "http.method": "POST",
        "http.server_name": "agent:8000",
        "http.user_agent": "Python/3.11 aiohttp/3.13.2",
        "net.peer.ip": "172.20.0.8",
        "net.peer.port": 35380,
        "http.route": "/v1/chat/completions",
        "http.status_code": 200,
        "gen_ai.performance.ttft_ms": 2853.594561922364,
        "gen_ai.response.model": "deepseek/deepseek-v3.2",
        "gen_ai.performance.latency_ms": 20878.517816890962
    },
    "events": [
        {
            "name": "gen_ai.first_token",
            "timestamp": "2025-12-29T13:58:31.819009Z",
            "attributes": {
                "ttft_ms": 2853.594561922364
            }
        }
    ],
    "links": [],
    "resource": {
        "attributes": {
            "telemetry.sdk.language": "python",
            "telemetry.sdk.name": "opentelemetry",
            "telemetry.sdk.version": "1.39.1",
            "service.name": "AI Agent Server"
        },
        "schema_url": ""
    }
}
{
    "name": "POST /v1/chat/completions http receive",
    "context": {
        "trace_id": "0xcc4be48cdc526d3660b3621fdd90ef89",
        "span_id": "0x10d19524dcbcacf9",
        "trace_state": "[]"
    },
    "kind": "SpanKind.INTERNAL",
    "parent_id": "0x172eb5fbd2f8dce0",
    "start_time": "2025-12-29T13:58:28.964668Z",
    "end_time": "2025-12-29T13:59:03.871042Z",
    "status": {
        "status_code": "UNSET"
    },
    "attributes": {
        "asgi.event.type": "http.disconnect"
    },
    "events": [],
    "links": [],
    "resource": {
        "attributes": {
            "telemetry.sdk.language": "python",
            "telemetry.sdk.name": "opentelemetry",
            "telemetry.sdk.version": "1.39.1",
            "service.name": "AI Agent Server"
        },
        "schema_url": ""
    }
}
INFO:     127.0.0.1:58946 - "GET /healthz HTTP/1.1" 200 OK
INFO:     127.0.0.1:39192 - "GET /healthz HTTP/1.1" 200 OK
INFO:     127.0.0.1:58844 - "GET /healthz HTTP/1.1" 200 OK
INFO:     127.0.0.1:57890 - "GET /healthz HTTP/1.1" 200 OK
INFO:     127.0.0.1:49208 - "GET /healthz HTTP/1.1" 200 OK
INFO:     127.0.0.1:57242 - "GET /healthz HTTP/1.1" 200 OK
INFO:     127.0.0.1:55612 - "GET /healthz HTTP/1.1" 200 OK
INFO:     127.0.0.1:44144 - "GET /healthz HTTP/1.1" 200 OK
INFO:     127.0.0.1:41042 - "GET /healthz HTTP/1.1" 200 OK
