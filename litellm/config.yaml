# ---- Models ----
model_list:
  # Local fast path (Ollama)
  - model_name: local/llama3-8b
    litellm_params:
      model: ollama/llama3:8b
      api_base: http://ollama:11434

  # Premium / fallback (OpenRouter)
  - model_name: openrouter/premium
    litellm_params:
      model: openrouter/auto
      api_key: ${OPENROUTER_API_KEY}

# ---- Routing policy ----
routing:
  - strategy: tokens
    default: local/llama3-8b
    rules:
      - if_input_tokens_greater_than: 1000
        use: openrouter/premium

# ---- Guardrails ----
general_settings:
  # Hard caps per request (prevents accidental huge calls)
  max_input_tokens: 8000
  max_output_tokens: 1024

# LiteLLM limits (simple rate limiting / budgets)
litellm_settings:
  # Soft daily budget across providers (USD); set to 0 to disable
  budget_limit: 1.50
  # Minimal rate-limits (requests per minute) per model name
  rate_limits:
    - model: local/llama3-8b
      rpm: 120
    - model: openrouter/premium
      rpm: 30

# Optional logging verbosity (set to INFO when stable)
logging:
  level: INFO

